<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<h1>Frequency Counter</h1>
<p>Write a function called same, that accepts two arrays.</p>
<p>
The function should return true if every value in the array has it's corresponding value squared in the second array. The frequency of values must be the same. 
</p>
<h2>Psudocode</h2>
<ol>
	<li>Count value of each array separately</li>
	<li>Compare both arrays k-v to k-v</li>	
</ol>
<br><br>
<b>DEBUG:</b>
<pre>
function same(arr1, arr2){
	if(arr1.length !== arr2.length){
		return false;
	}
	let frequencyCounter1 = {};
	let frequencyCounter2 = {};

	for(let val of arr1){
	}

	for(let val of arr2){
	}

	for(let key in frequencyCounter1){
		if(!(key in frequencyCounter2)){
			return false;
		}
		if(frequencyCounter2[key] !== frequencyCounter1[key]){
			return false;
		}
	}
	console.log(frequencyCounter1);
	console.log(frequencyCounter2);
	return true;
}
</pre>
<p id='answer'></p>

<script type="text/javascript">
function same(arr1, arr2){
	if(arr1.length !== arr2.length){
		return false;
	}
	let frequencyCounter1 = {};
	let frequencyCounter2 = {};

	for(let val of arr1){
		frequencyCounter1[val] = (frequencyCounter1[val] || 0) + 1; //frequency counting. 
	}

	for(let val of arr2){
		frequencyCounter2[val] = (frequencyCounter2[val] || 0) + 1;
	}

	for(let key in frequencyCounter1){
		if(!(key ** 2 in frequencyCounter2)){
			return false;
		}
		if(frequencyCounter2[key ** 2] !== frequencyCounter1[key]){
			return false;
		}
	}
	console.log(frequencyCounter1);
	console.log(frequencyCounter2);
	return true;
}

var p = document.createElement("p");
p.setAttribute('style', 'white-space: pre;');
p.textContent = "same([1,2,3] , [1,4,5]): "+same([1,2,3] , [1,4,5])+"\r\n";
p.textContent += "same([1,2,3] , [1,4,9]): "+same([1,2,3] , [1,4,9]);
document.getElementById('answer').appendChild(p);

/*=================RESTATE===============
1 Refactor, Restate into a more intutive form
2 Write WHY for code statement 
*/
function same(arr1, arr2){
	if(arr1.length !== arr2.length){
		return false;
	}
	let frequencyCounter1 = {};
	let frequencyCounter2 = {};

	//count dup values for each array to check equal value freq.
	for(let val of arr1){
		frequencyCounter1[val] = (frequencyCounter1[val] || 0) + 1; 
	}

	for(let val of arr2){
		frequencyCounter2[val] = (frequencyCounter2[val] || 0) + 1;
	}


	for(let key in frequencyCounter1){
		if(!(key ** 2 in frequencyCounter2)){
			return false;
		}
		if(frequencyCounter2[key ** 2] !== frequencyCounter1[key]){
			return false;
		}
	}
	console.log(frequencyCounter1);
	console.log(frequencyCounter2);
	return true;
}

</script>
</body>
</html>